(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[737],{6932:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var i=n(29),o=n(7794),a=n.n(o),r=n(4851),c=n(7294),s=n(9521),d=n(381),l=n.n(d),C=n(5893);function p(e){var t=e.color;return(0,C.jsxs)("svg",{width:"57",height:"34",viewBox:"0 0 341 205",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,C.jsx)("path",{d:"M19.5074 188.493C20.6817 187.941 21.6674 187.055 22.3415 185.945C23.0155 184.835 23.3477 183.55 23.2965 182.252V182.252C23.3197 181.345 23.156 180.442 22.8159 179.602C22.4757 178.761 21.9665 177.999 21.3196 177.364C19.2431 175.54 16.5302 174.614 13.7742 174.789H0.396484V203.682H14.1036C20.6936 203.682 24.9113 201.041 24.9113 195.757C25.0093 194.102 24.5207 192.466 23.532 191.137C22.5433 189.807 21.118 188.871 19.5074 188.493V188.493ZM6.59089 180.27H12.8515C15.5204 180.27 17.0032 181.327 17.0032 183.242C17.0032 185.389 15.2238 186.313 12.4231 186.313H6.59089V180.27ZM18.6177 194.866C18.6177 197.012 16.9043 198.003 14.1036 198.003H6.59089V191.795H13.9059C17.2009 191.795 18.6177 192.983 18.6177 194.932V194.866Z",fill:t}),(0,C.jsx)("path",{d:"M40.8589 174.492L28.5027 203.583H35.0927L37.7286 196.979H49.9201L52.5561 203.583H59.1461L46.7899 174.492H40.8589ZM39.8705 191.498L43.6926 182.12L47.5149 191.498H39.8705Z",fill:t}),(0,C.jsx)("path",{d:"M88.3726 184.299C88.4248 183.088 88.2329 181.879 87.8083 180.744C87.3837 179.61 86.7351 178.572 85.9014 177.695C84.7691 176.665 83.4417 175.874 81.9982 175.37C80.5548 174.865 79.0248 174.656 77.4992 174.756H64.3192V203.649H70.6785V194.403H75.654L81.8156 203.649H89.2294L82.211 193.347C84.0869 192.726 85.7068 191.504 86.8205 189.868C87.9341 188.233 88.4795 186.276 88.3726 184.299V184.299ZM81.9476 184.629C81.9476 187.073 80.1682 188.724 77.1038 188.724H70.5138V180.435H76.8074C79.9047 180.435 81.7826 181.822 81.7826 184.563L81.9476 184.629Z",fill:t}),(0,C.jsx)("path",{d:"M108.999 174.194C107.003 174.137 105.016 174.481 103.156 175.207C101.295 175.933 99.5987 177.026 98.1669 178.421C96.7352 179.816 95.5972 181.484 94.8205 183.328C94.0437 185.171 93.644 187.152 93.6448 189.153V189.153C93.6448 193.225 95.259 197.131 98.1324 200.011C101.006 202.89 104.903 204.508 108.966 204.508C113.03 204.508 116.927 202.89 119.801 200.011C122.674 197.131 124.288 193.225 124.288 189.153V189.153C124.312 187.151 123.93 185.165 123.165 183.316C122.4 181.466 121.269 179.792 119.84 178.393C118.41 176.995 116.713 175.901 114.849 175.18C112.986 174.458 110.996 174.123 108.999 174.194V174.194ZM117.665 189.219C117.71 190.387 117.518 191.552 117.103 192.644C116.687 193.736 116.056 194.733 115.247 195.575C114.438 196.416 113.467 197.086 112.394 197.543C111.32 198 110.166 198.235 108.999 198.234C107.826 198.23 106.665 197.99 105.586 197.528C104.506 197.067 103.53 196.392 102.716 195.545C101.902 194.698 101.265 193.696 100.845 192.598C100.424 191.5 100.228 190.329 100.268 189.153V189.153C100.223 187.987 100.415 186.823 100.831 185.733C101.247 184.643 101.878 183.648 102.688 182.809C103.498 181.97 104.468 181.304 105.542 180.85C106.615 180.397 107.769 180.166 108.934 180.171C110.107 180.175 111.268 180.415 112.347 180.877C113.427 181.339 114.403 182.013 115.217 182.86C116.031 183.707 116.667 184.709 117.088 185.807C117.509 186.905 117.705 188.077 117.665 189.252V189.219Z",fill:t}),(0,C.jsx)("path",{d:"M131.57 203.583H137.929V192.389H151.67V186.61H137.929V180.468H153.515V174.69H131.57V203.583Z",fill:t}),(0,C.jsx)("path",{d:"M166.826 174.492L154.503 203.583H161.093L163.729 196.979H175.921L178.557 203.583H185.147L172.79 174.492H166.826ZM165.838 191.498L169.693 182.12L173.515 191.498H165.838Z",fill:t}),(0,C.jsx)("path",{d:"M203.006 198.399C201.855 198.374 200.72 198.117 199.67 197.643C198.621 197.17 197.677 196.488 196.896 195.641C196.115 194.793 195.512 193.796 195.124 192.71C194.735 191.624 194.57 190.47 194.636 189.318V189.318C194.579 188.173 194.751 187.028 195.144 185.952C195.537 184.875 196.142 183.888 196.922 183.05C197.703 182.212 198.644 181.54 199.689 181.074C200.734 180.608 201.862 180.357 203.006 180.336C205.801 180.432 208.449 181.617 210.386 183.639L214.406 178.983C212.934 177.475 211.16 176.298 209.2 175.53C207.241 174.761 205.14 174.419 203.039 174.525C201.061 174.475 199.093 174.828 197.254 175.561C195.415 176.294 193.744 177.392 192.34 178.79C190.936 180.187 189.829 181.855 189.085 183.693C188.342 185.531 187.977 187.501 188.014 189.483V189.483C187.978 191.442 188.336 193.387 189.066 195.204C189.797 197.021 190.885 198.672 192.265 200.058C193.646 201.445 195.291 202.539 197.102 203.275C198.913 204.011 200.854 204.374 202.808 204.343C205.035 204.435 207.254 204.019 209.297 203.126C211.34 202.234 213.155 200.889 214.604 199.192L210.584 195.097C209.614 196.138 208.441 196.968 207.137 197.536C205.833 198.104 204.427 198.398 203.006 198.399V198.399Z",fill:t}),(0,C.jsx)("path",{d:"M219.283 180.567H228.048V203.583H234.374V180.567H243.139V174.69H219.283V180.567Z",fill:t}),(0,C.jsx)("path",{d:"M262.513 174.194C260.517 174.137 258.53 174.481 256.67 175.207C254.809 175.933 253.112 177.026 251.681 178.421C250.249 179.816 249.111 181.484 248.334 183.328C247.558 185.171 247.158 187.152 247.158 189.153V189.153C247.158 193.225 248.773 197.131 251.646 200.011C254.52 202.89 258.417 204.508 262.48 204.508C266.544 204.508 270.441 202.89 273.314 200.011C276.188 197.131 277.802 193.225 277.802 189.153V189.153C277.826 187.151 277.444 185.165 276.679 183.316C275.914 181.466 274.783 179.792 273.354 178.393C271.924 176.995 270.226 175.901 268.363 175.18C266.5 174.458 264.51 174.123 262.513 174.194V174.194ZM271.179 189.219C271.223 190.387 271.032 191.552 270.616 192.644C270.201 193.736 269.569 194.733 268.76 195.575C267.951 196.416 266.981 197.086 265.907 197.543C264.834 198 263.68 198.235 262.513 198.234C261.34 198.23 260.179 197.99 259.099 197.528C258.02 197.067 257.044 196.392 256.23 195.545C255.416 194.698 254.779 193.696 254.359 192.598C253.938 191.5 253.742 190.329 253.781 189.153V189.153C253.737 187.987 253.929 186.823 254.345 185.733C254.76 184.643 255.392 183.648 256.202 182.809C257.011 181.97 257.982 181.304 259.056 180.85C260.129 180.397 261.283 180.166 262.447 180.171C263.621 180.175 264.782 180.415 265.861 180.877C266.94 181.339 267.916 182.013 268.731 182.86C269.545 183.707 270.181 184.709 270.602 185.807C271.022 186.905 271.219 188.077 271.179 189.252V189.219Z",fill:t}),(0,C.jsx)("path",{d:"M309.137 184.299C309.19 183.088 308.998 181.879 308.573 180.744C308.148 179.61 307.5 178.572 306.666 177.695C305.534 176.665 304.206 175.874 302.763 175.37C301.32 174.865 299.79 174.656 298.264 174.756H285.084V203.649H291.443V194.403H296.419L302.58 203.649H309.994L302.976 193.347C304.852 192.726 306.472 191.504 307.585 189.868C308.699 188.233 309.244 186.276 309.137 184.299ZM302.712 184.629C302.712 187.073 300.933 188.724 297.869 188.724H291.279V180.435H297.572C300.669 180.435 302.547 181.822 302.547 184.563L302.712 184.629Z",fill:t}),(0,C.jsx)("path",{d:"M333.817 174.69L326.799 186.28L319.945 174.69H312.531L323.602 192.191V203.583H329.929V192.059L341 174.69H333.817Z",fill:t}),(0,C.jsx)("path",{d:"M298.659 138.597H308.544V0.601196H32.7861V138.597H298.659V138.597ZM298.659 131.993H291.707V103.991L298.561 105.576L298.659 131.993ZM159.215 131.993H103.629V96.6933L159.215 65.1579V131.993ZM179.644 131.993H172.79V76.2201L179.644 77.8381V131.993ZM196.646 131.993H189.793V80.1165L196.646 81.7016V131.993ZM213.648 131.993H206.795V84.0791L213.648 85.6972V131.993ZM230.651 131.993H223.797V88.0747L230.651 89.6598V131.993ZM247.653 131.993H240.799V92.0373L247.653 93.6553V131.993ZM264.655 131.993H257.801V96.0329L264.655 97.6179V131.993ZM281.657 131.993H274.804V99.9954L281.657 101.613V131.993ZM292.86 7.20546H302.053V89.4286L285.743 85.9283L280.372 54.3929H264.293L260.009 79.9515L159.413 57.2658L96.8079 92.7637V132.059H39.3761V7.20546H292.86V7.20546Z",fill:t})]})}var h=n(1786),f=n(6409);function u(e){var t,n=e.data,i=Math.floor(n.partCount>0?n.partCount/n.planCount*100:0);if(""!==n.execution)return(0,C.jsxs)(m.TBodyRow,{isOn:n.power,children:[(0,C.jsx)("td",{className:"number",children:n.machineNo}),(0,C.jsx)("td",{className:"name",children:n.mid}),(0,C.jsx)("td",{className:"program ".concat(i>=100?"redSign":""),children:n.program}),(0,C.jsx)("td",{className:"progress ".concat(i>=100?"redSign":""),children:i===1/0?"-":"".concat(i,"%")}),(0,C.jsxs)("td",{className:"count",children:[(0,C.jsx)("span",{className:"part ".concat(i>=100?"redSign":""),children:n.partCount}),(0,C.jsx)("span",{className:"plan",children:" / ".concat(n.planCount)})]}),(0,C.jsx)("td",{className:"start_date",children:l()(n.startYmdt).format("MM-DD hh:mm")}),(0,C.jsx)("td",{className:"end_date",children:0!==n.planCount&&n.partCount<=n.planCount?null===(t=n.prdctEnd)||void 0===t?void 0:t.slice(5,16):"-"}),(0,C.jsx)("td",{className:"cycle_time",children:n.partCount?h.Z.msToHHMM(n.active):"-"}),(0,C.jsx)("td",{className:"status ".concat(f.Z.ToClassStatus(n.power,n.mode,n.execution,""!==n.alarm)),children:f.Z.ToStringStatus(n.power,n.mode,n.execution,""!==n.alarm)})]})}var m={Wrap:s.ZP.table.withConfig({displayName:"monitoringRow__Wrap",componentId:"sc-9dhmye-0"})(["width:100vw;border-collapse:collapse;& *{white-space:nowrap;}"]),Head:s.ZP.thead.withConfig({displayName:"monitoringRow__Head",componentId:"sc-9dhmye-1"})(["width:100vw;height:36px;text-align:center;backgorund:#c4c4c4;& th{background:#c4c4c4;min-width:42px;}& .align_left{padding-left:8px;text-align:left;}& *{font-size:17px;font-weight:600;color:#000;}"]),Body:s.ZP.tbody.withConfig({displayName:"monitoringRow__Body",componentId:"sc-9dhmye-2"})([""]),TBodyRow:s.ZP.tr.withConfig({displayName:"monitoringRow__TBodyRow",componentId:"sc-9dhmye-3"})(["height:48px;& *{color:",";font-size:32px;font-weight:400;}& .number{text-align:center;}& .name{}& .program{font-weight:600;&.redSign{color:#ff4d49;}}& .progress{text-align:center;&.redSign{color:#ff4d49;}}& .count{text-align:center;& .part{color:#62cfeb;font-weight:600;&.redSign{color:#ff4d49;}}& .plan{}}& .start_date{text-align:center;}& .end_date{text-align:center;}& .cycle_time{text-align:center;}& .status{font-weight:600;text-align:center;color:#000;&.off{background:#898989;color:#fff !important;}&.modify,&.success,&.alarm,&.ready,&.wait{background:#f5b117;}&.runing{background:#6ebd33;}&.emergency_stop{background:#e8661c;}}"],function(e){return e.isOn?"#fff":"#474B6B !important"})},g=(0,r.f3)("machineViewModel")((0,r.Pi)(function(e){var t=e.machineViewModel,n=(0,c.useState)(""),o=n[0],r=n[1],s=function(){return l()().format("YYYY.MM.DD HH:mm:ss")};return(0,c.useEffect)(function(){r(s());var e,n=setInterval(function(){r(s())},1e3);return(e=(0,i.Z)(a().mark(function e(){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getMachineList();case 2:t.initializeSocket(t.onMessage,t.onOpen);case 3:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})(),function(){var e,i;clearInterval(n),(null===(e=t.socket)||void 0===e?void 0:null===(i=e.socket)||void 0===i?void 0:i.readyState)===WebSocket.OPEN&&t.socket.disconnect()}},[]),(0,C.jsxs)(x,{children:[(0,C.jsxs)(V.Wrap,{children:[(0,C.jsxs)(V.LeftSide,{children:[(0,C.jsx)(p,{color:"#ffffff"}),(0,C.jsx)(V.Time,{children:o})]}),(0,C.jsx)(V.Title,{children:"전체공정현황"}),(0,C.jsx)(V.Enterprise,{children:t.auth.name})]}),(0,C.jsxs)(w.Wrap,{children:[(0,C.jsx)(w.Head,{children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{children:"호기"}),(0,C.jsx)("th",{className:"align_left",children:"기계명"}),(0,C.jsx)("th",{className:"align_left",children:"공정"}),(0,C.jsx)("th",{children:"진행률"}),(0,C.jsx)("th",{children:"완료/목표"}),(0,C.jsx)("th",{children:"공정 시작일"}),(0,C.jsx)("th",{children:"완료 예정일"}),(0,C.jsx)("th",{children:"실CT"}),(0,C.jsx)("th",{children:"구분"})]})}),(0,C.jsx)(w.Body,{children:t.machines.map(function(e,t){return(0,C.jsx)(u,{data:e},"monitoring_table_row_".concat(t))})})]})]})})),x=s.ZP.div.withConfig({displayName:"mon3__MonitoringContainer",componentId:"sc-4c1p8o-0"})(["background:#2e3257;height:100vh;& *{color:#fff;}"]),V={Wrap:s.ZP.div.withConfig({displayName:"mon3__Wrap",componentId:"sc-4c1p8o-1"})(["display:flex;align-items:center;justify-content:space-between;height:64px;padding:0 16px;"]),LeftSide:s.ZP.div.withConfig({displayName:"mon3__LeftSide",componentId:"sc-4c1p8o-2"})(["display:flex;align-items:center;height:100%;gap:24px;"]),Time:s.ZP.p.withConfig({displayName:"mon3__Time",componentId:"sc-4c1p8o-3"})(["height:34px;font-size:34px;"]),Title:s.ZP.p.withConfig({displayName:"mon3__Title",componentId:"sc-4c1p8o-4"})(["position:absolute;left:50%;transform:translate(-50%);font-size:30px;font-weight:600;"]),Enterprise:s.ZP.p.withConfig({displayName:"mon3__Enterprise",componentId:"sc-4c1p8o-5"})(["font-size:28px;"])},w={Wrap:s.ZP.table.withConfig({displayName:"mon3__Wrap",componentId:"sc-4c1p8o-6"})(["width:100vw;border-collapse:collapse;& *{white-space:nowrap;}"]),Head:s.ZP.thead.withConfig({displayName:"mon3__Head",componentId:"sc-4c1p8o-7"})(["width:100vw;height:36px;text-align:center;backgorund:#c4c4c4;& th{background:#c4c4c4;min-width:42px;}& .align_left{padding-left:8px;text-align:left;}& *{font-size:17px;font-weight:600;color:#000;}"]),Body:s.ZP.tbody.withConfig({displayName:"mon3__Body",componentId:"sc-4c1p8o-8"})([""])}},6409:function(e,t,n){"use strict";var i=n(2777),o=n(2262),a=n(5981),r=new(function(){function e(){(0,i.Z)(this,e)}return(0,o.Z)(e,[{key:"ToStringStatus",value:function(e,t,n,i,o){if(!e)return"전원꺼짐";if("AUTOMATIC"!==t)return"수정 중";if(o)return"알람발생";switch(n){case a.Z9.ACTIVE:return"가공중";case a.Z9.READY:return"READY";case a.Z9.TRIGGERED:return"비상정지";case a.Z9.STOPPED||a.Z9.INTERRUPTED:if(i)return"가공완료";return"대기 중"}}},{key:"ToColorStatus",value:function(e){switch(e){case a.Z9.ACTIVE:return"#6ebd33";case a.Z9.OFF:return"#d5d7da";case a.Z9.TRIGGERED:return"#e8661c";case a.Z9.STOPPED:case a.Z9.READY:case a.Z9.INTERRUPTED:return"#f5b117";default:return"#d5d7da"}}},{key:"ToClassStatus",value:function(e,t,n,i,o){if(!e)return a.V6.OFF;if("AUTOMATIC"!==t)return a.V6.MODIFY;if(o)return a.V6.ALARM;switch(n){case a.Z9.ACTIVE:return a.V6.RUNNING;case a.Z9.READY:return a.V6.READY;case a.Z9.TRIGGERED:return a.V6.EMERGENCY_STOP;case a.Z9.STOPPED||a.Z9.INTERRUPTED:if(i)return a.V6.SUCCESS;return a.V6.WAIT}}}]),e}());t.Z=r},1081:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/monitoring/mon3",function(){return n(6932)}])}},function(e){e.O(0,[774,888,179],function(){return e(e.s=1081)}),_N_E=e.O()}]);